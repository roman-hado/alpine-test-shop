import { buildHeaders } from './headers.js';
export function restRequestBody(requestBody) {
    if (!requestBody) {
        return;
    }
    return JSON.stringify(requestBody);
}
export function restRequestUrl(session, apiVersion, path) {
    if (isThemeAccessSession(session)) {
        return `https://theme-kit-access.shopifyapps.com/cli/admin/api/${apiVersion}${path}.json`;
    }
    return `https://${session.storeFqdn}/admin/api/${apiVersion}${path}.json`;
}
export async function restRequestHeaders(session) {
    const store = session.storeFqdn;
    const token = session.token;
    const headers = await buildHeaders(session.token);
    if (isThemeAccessSession(session)) {
        headers['X-Shopify-Shop'] = store;
        headers['X-Shopify-Access-Token'] = token;
    }
    return headers;
}
function isThemeAccessSession(session) {
    return session.token.startsWith('shptka_');
}
//# sourceMappingURL=rest.js.map