{"version":3,"file":"init.js","sourceRoot":"","sources":["../../../src/cli/services/init.ts"],"names":[],"mappings":"AAAA,OAAO,EAAC,GAAG,EAAE,EAAE,EAAC,MAAM,kBAAkB,CAAA;AAExC,MAAM,CAAC,KAAK,UAAU,SAAS,CAAC,OAAe,EAAE,WAAmB;IAClE,MAAM,kBAAkB,CAAC,OAAO,EAAE,WAAW,CAAC,CAAA;AAChD,CAAC;AAED,MAAM,CAAC,KAAK,UAAU,6BAA6B,CAAC,OAAe,EAAE,WAAmB;IACtF,MAAM,kBAAkB,CAAC,OAAO,EAAE,WAAW,EAAE,IAAI,CAAC,CAAA;AACtD,CAAC;AAED,KAAK,UAAU,kBAAkB,CAAC,OAAe,EAAE,WAAmB,EAAE,SAAmB;IACzF,MAAM,EAAE;SACL,QAAQ,CAAC;QACR;YACE,KAAK,EAAE,WAAW,OAAO,SAAS,WAAW,EAAE;YAC/C,IAAI,EAAE,KAAK,IAAI,EAAE;gBACf,MAAM,GAAG,CAAC,kBAAkB,CAAC;oBAC3B,OAAO;oBACP,WAAW;oBACX,SAAS;iBACV,CAAC,CAAA;gBACF,OAAO;oBACL,cAAc,EAAE,eAAe,WAAW,EAAE;iBAC7C,CAAA;YACH,CAAC;SACF;KACF,CAAC;SACD,GAAG,EAAE,CAAA;AACV,CAAC","sourcesContent":["import {git, ui} from '@shopify/cli-kit'\n\nexport async function cloneRepo(repoUrl: string, destination: string) {\n  await downloadRepository(repoUrl, destination)\n}\n\nexport async function cloneRepoAndCheckoutLatestTag(repoUrl: string, destination: string) {\n  await downloadRepository(repoUrl, destination, true)\n}\n\nasync function downloadRepository(repoUrl: string, destination: string, latestTag?: boolean) {\n  await ui\n    .newListr([\n      {\n        title: `Cloning ${repoUrl} into ${destination}`,\n        task: async () => {\n          await git.downloadRepository({\n            repoUrl,\n            destination,\n            latestTag,\n          })\n          return {\n            successMessage: `Cloned into ${destination}`,\n          }\n        },\n      },\n    ])\n    .run()\n}\n"]}