{"version":3,"file":"open.js","sourceRoot":"","sources":["../../../src/cli/services/open.ts"],"names":[],"mappings":"AAAA,OAAO,EAAC,iBAAiB,EAAC,MAAM,gCAAgC,CAAA;AAChE,OAAO,EAAC,cAAc,EAAE,eAAe,EAAC,MAAM,4BAA4B,CAAA;AAC1E,OAAO,EAAC,cAAc,EAAC,MAAM,0BAA0B,CAAA;AACvD,OAAO,EAAC,OAAO,EAAC,MAAM,8BAA8B,CAAA;AACpD,OAAO,EAAC,UAAU,EAAC,MAAM,0BAA0B,CAAA;AAGnD,MAAM,CAAC,KAAK,UAAU,IAAI,CACxB,YAA0B,EAC1B,OAA0F;IAE1F,MAAM,KAAK,GAAG,MAAM,iBAAiB,CAAC,YAAY,EAAE;QAClD,MAAM,EAAE,wBAAwB;QAChC,MAAM,EAAE;YACN,WAAW,EAAE,OAAO,CAAC,WAAW;YAChC,IAAI,EAAE,OAAO,CAAC,IAAI;YAClB,KAAK,EAAE,OAAO,CAAC,KAAK;SACrB;KACF,CAAC,CAAA;IAEF,MAAM,UAAU,GAAG,eAAe,CAAC,KAAK,EAAE,YAAY,CAAC,CAAA;IACvD,MAAM,SAAS,GAAG,cAAc,CAAC,KAAK,EAAE,YAAY,CAAC,CAAA;IAErD,UAAU,CAAC;QACT,QAAQ,EAAE,CAAC,+BAA+B,EAAE,GAAG,cAAc,CAAC,KAAK,CAAC,CAAC;QACrE,IAAI,EAAE;YACJ,IAAI,EAAE;gBACJ,KAAK,EAAE;oBACL,EAAC,IAAI,EAAE,EAAC,KAAK,EAAE,oBAAoB,EAAE,GAAG,EAAE,UAAU,EAAC,EAAC;oBACtD,EAAC,IAAI,EAAE,EAAC,KAAK,EAAE,0CAA0C,EAAE,GAAG,EAAE,SAAS,EAAC,EAAC;iBAC5E;aACF;SACF;KACF,CAAC,CAAA;IAEF,IAAI,OAAO,CAAC,MAAM,EAAE;QAClB,MAAM,OAAO,CAAC,SAAS,CAAC,CAAA;KACzB;SAAM;QACL,MAAM,OAAO,CAAC,UAAU,CAAC,CAAA;KAC1B;AACH,CAAC","sourcesContent":["import {findOrSelectTheme} from '../utilities/theme-selector.js'\nimport {themeEditorUrl, themePreviewUrl} from '../utilities/theme-urls.js'\nimport {themeComponent} from '../utilities/theme-ui.js'\nimport {openURL} from '@shopify/cli-kit/node/system'\nimport {renderInfo} from '@shopify/cli-kit/node/ui'\nimport {AdminSession} from '@shopify/cli-kit/node/session'\n\nexport async function open(\n  adminSession: AdminSession,\n  options: {development: boolean; live: boolean; editor: boolean; theme: string | undefined},\n) {\n  const theme = await findOrSelectTheme(adminSession, {\n    header: 'Select a theme to open',\n    filter: {\n      development: options.development,\n      live: options.live,\n      theme: options.theme,\n    },\n  })\n\n  const previewUrl = themePreviewUrl(theme, adminSession)\n  const editorUrl = themeEditorUrl(theme, adminSession)\n\n  renderInfo({\n    headline: [`Preview information for theme`, ...themeComponent(theme)],\n    body: {\n      list: {\n        items: [\n          {link: {label: 'Preview your theme', url: previewUrl}},\n          {link: {label: 'Customize your theme at the theme editor', url: editorUrl}},\n        ],\n      },\n    },\n  })\n\n  if (options.editor) {\n    await openURL(editorUrl)\n  } else {\n    await openURL(previewUrl)\n  }\n}\n"]}